```slc
@block TASK 2.4_auth_middleware
priority: critical
intent: "Implement JWT validation FastAPI dependency"
scope: phase-2
depends_on: [2.3_login_endpoint]
estimate: 20
status: todo

content:
  - Implement app/dependencies/auth.py:
      async def get_current_user(
        token: str = Depends(OAuth2PasswordBearer(tokenUrl="/api/v1/auth/login")),
        session: AsyncSession = Depends(get_session)
      ) -> User:
        - Decode token using security.decode_access_token()
        - Extract user_id from sub claim
        - Fetch User from DB by id
        - Raise 401 if user not found
        - Return User object

  - Verify dependency works by applying it to a test route:
      @router.get("/me")
      async def me(current_user: User = Depends(get_current_user)):
        return {"id": current_user.id, "email": current_user.email}

  - Remove /me test route after verification (or keep as utility)

acceptance_criteria:
  - GET /api/v1/auth/me with valid Bearer token returns user data
  - GET without token returns 401
  - GET with expired/invalid token returns 401
  - get_current_user dependency is reusable across all protected routes
@end
```
