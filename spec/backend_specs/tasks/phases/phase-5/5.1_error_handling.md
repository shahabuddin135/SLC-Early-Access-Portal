```slc
@block TASK 5.1_error_handling
priority: high
intent: "Implement global exception handlers for consistent error responses"
scope: phase-5
depends_on: [4.2_review_endpoint]
estimate: 15
status: todo

content:
  - Add global exception handlers in main.py:
      @app.exception_handler(HTTPException)
      async def http_exception_handler(request, exc):
        - Return JSONResponse with {"detail": exc.detail} and exc.status_code

      @app.exception_handler(RequestValidationError)
      async def validation_exception_handler(request, exc):
        - Return JSONResponse 422 with {"detail": "Validation error", "errors": exc.errors()}

      @app.exception_handler(Exception)
      async def generic_exception_handler(request, exc):
        - Log the error (do NOT expose to client)
        - Return JSONResponse 500 with {"detail": "Internal server error"}

  - Add security headers middleware in main.py:
      - X-Content-Type-Options: nosniff
      - X-Frame-Options: DENY
      - Referrer-Policy: strict-origin-when-cross-origin

  - Verify no stack traces leak in any error response

acceptance_criteria:
  - All errors return {"detail": "..."} shape
  - 500 errors do not expose internal details
  - Security headers present on all responses
  - Validation errors return 422 with structured errors
@end
```
