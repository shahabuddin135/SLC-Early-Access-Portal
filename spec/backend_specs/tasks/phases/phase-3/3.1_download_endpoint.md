```slc
@block TASK 3.1_download_endpoint
priority: critical
intent: "Implement GET /download protected endpoint"
scope: phase-3
depends_on: [2.4_auth_middleware]
estimate: 20
status: todo

content:
  - Implement app/schemas/dashboard.py:
      class DashboardResponse(BaseModel):
        id: int
        name: str
        email: str
        github_id: str
        has_downloaded: bool

      class DownloadResponse(BaseModel):
        download_url: str
        has_downloaded: bool

  - Implement app/routers/dashboard.py:
      @router.get("/dashboard", response_model=DashboardResponse)
      async def get_dashboard(current_user=Depends(get_current_user)):
        - Return user fields from current_user

  - Implement app/routers/download.py:
      @router.get("/download", response_model=DownloadResponse)
      async def trigger_download(
        current_user=Depends(get_current_user),
        session=Depends(get_session)
      ):
        - Call download_service.record_download(session, current_user)
        - Return DownloadResponse with download_url and has_downloaded=True

  - Register both routers in main.py under /api/v1

  notes: >
    The download_url should point to the actual SLC files.
    For v1, this can be a static Vercel URL or a pre-signed CDN link.
    Use an environment variable: DOWNLOAD_URL in settings.

acceptance_criteria:
  - GET /api/v1/dashboard with valid token returns user data
  - GET /api/v1/download with valid token returns {download_url, has_downloaded: true}
  - GET /api/v1/download without token returns 401
@end
```
